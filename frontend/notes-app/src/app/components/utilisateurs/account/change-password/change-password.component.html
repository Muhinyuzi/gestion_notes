<div class="change-password-container">
  <h2>ğŸ” Changer le mot de passe</h2>

  <form (ngSubmit)="changePassword()" class="password-form">
    <!-- Ancien mot de passe -->
    <label>Ancien mot de passe</label>
    <div class="input-wrapper">
      <input
        [type]="showOld ? 'text' : 'password'"
        [(ngModel)]="oldPassword"
        name="oldPassword"
        placeholder="Ancien mot de passe"
        required
      />
      <button type="button" class="eye-btn" (click)="toggleVisibility('old')">
        {{ showOld ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ™ˆ' }}
      </button>
    </div>

    <!-- Nouveau mot de passe -->
    <label>Nouveau mot de passe</label>
    <div class="input-wrapper">
      <input
        [type]="showNew ? 'text' : 'password'"
        [(ngModel)]="newPassword"
        name="newPassword"
        (input)="checkPasswordStrength()"
        placeholder="Nouveau mot de passe"
        minlength="8"
        required
      />
      <button type="button" class="eye-btn" (click)="toggleVisibility('new')">
        {{ showNew ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ™ˆ' }}
      </button>
    </div>

    <!-- ğŸ”¥ Indicateur de force -->
    <div class="password-strength">
      <div class="bar" [ngClass]="strengthClass"></div>
      <p [ngClass]="strengthClass">{{ strengthLabel }}</p>
    </div>

    <!-- Confirmation -->
    <label>Confirmer le mot de passe</label>
    <div class="input-wrapper">
      <input
        [type]="showConfirm ? 'text' : 'password'"
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        placeholder="Confirmer le mot de passe"
        required
      />
      <button type="button" class="eye-btn" (click)="toggleVisibility('confirm')">
        {{ showConfirm ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ™ˆ' }}
      </button>
    </div>

    <button type="submit" [disabled]="isLoading">
      {{ isLoading ? 'â³ En cours...' : 'Changer le mot de passe' }}
    </button>
  </form>
</div>
